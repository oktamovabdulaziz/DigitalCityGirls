{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Bootstrap 4 Admin &amp; Dashboard Template">
	<meta name="author" content="Bootlab">

	<title>Sign In - AppStack - Admin &amp; Dashboard Template</title>

	<link rel="preconnect" href="//fonts.gstatic.com/" crossorigin="">

	<!-- PICK ONE OF THE STYLES BELOW -->
	 <link href="{% static 'css/classic.css' %}" rel="stylesheet">
<!--	 <link href="{% static 'css/corporate.css' %}" rel="stylesheet">-->
	<!-- <link href="css/modern.css" rel="stylesheet"> -->

	<!-- BEGIN SETTINGS -->
	<!-- You can remove this after picking a style -->
	<style>
		body {
			opacity: 0;
		}
	</style>
	<script src="js\settings.js"></script>
	<!-- END SETTINGS -->
<!-- Global site tag (gtag.js) - Google Analytics -->
	<script>
    $(document).ready(function(){
        {% if messages %}
        $('#defaultModalSuccess').modal('show');
        {% endif %}
    });
</script>

</head>
<body>
	<main class="main d-flex w-100">
		<div class="container d-flex flex-column">
			<div class="row h-100">
				<div class="col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100">
					<div class="d-table-cell align-middle">

						<div class="text-center mt-4">
							<h1 class="h2">Welcome to the site</h1>
							<p class="lead">
								Sign in to your account to continue
							</p>
						</div>

						<div class="card">
							<div class="card-body">
								<div class="m-sm-4">
									<div class="text-center">
										<img src="{% static 'img\avatars\avatar.jpg' %}" alt="Chris Wood" class="img-fluid rounded-circle" width="132" height="132">
									</div>
									<form  action="{% url 'login' %}" method="post" enctype="multipart/form-data">
									{% csrf_token %}
										<div class="form-group">
											<label>Username</label>
											<input class="form-control" type="text" name="username" placeholder="username">
										</div>
										<div class="form-group">
											<label>Password</label>
											<input class="form-control" type="password" name="password" placeholder="password">
											<small>
           									 	<a href="{% url 'reset-password' %}">Forgot password?</a>
          									</small>
										</div>
										<div>
											<div class="custom-control custom-checkbox align-items-center">
												<input type="checkbox" class="custom-control-input" value="remember-me" name="remember-me" checked="">
												<label class="custom-control-label text-small">Remember me next time</label>
											</div>
										</div>
										<div class="text-center mt-3">
<!--											<a href="{% url 'index' %}" class="btn btn-lg btn-primary">Sign in</a>-->
											  <button type="submit" class="btn btn-lg btn-primary" data-toggle="modal" data-target="#defaultModalSuccess">Sign in</button>
										</div>
										<div class="card">
											<div class="card-header">
												<div class="modal fade" id="defaultModalSuccess" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
													<div class="modal-dialog" role="document">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title">Login yoki parol xato</h5>
																<button type="button" class="close" data-dismiss="modal" aria-label="Close">
																	<span aria-hidden="true"></span>
																</button>
															</div>
																{% for i in messages %}
																<div class="modal-body m-3">
																	<p class="mb-0" style="color: red">{{ i }}</p>
																</div>
																{% endfor %}
															<div class="modal-footer">
																<button type="button" class="btn btn-secondary" data-dismiss="modal" id="closeModalButton">Yopish</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
	<script src="{% static 'js\app.js' %}"></script>

Modal oynasini foydalanuvchi tomonidan bir marta chiqib turish uchun quyidagi o'zgartirishlarni kiritishingiz kerak:

Sahifangizga JavaScript kodini qo'shing va modal oynasini faqat bir marta oching:
html
Copy code
<script>
    $(document).ready(function(){
        {% if messages %}
        $('#defaultModalSuccess').modal('show');

        // Modalni yopish uchun funksiya
        function closeSuccessModal() {
            $('#defaultModalSuccess').modal('hide');
        }

        // Yopish tugmasini bosganda modalni yopish
        $('#closeModalButton').click(closeSuccessModal);

        // Modal oynasini 1 marta ochish
        if (!localStorage.getItem('modalShown')) {
            localStorage.setItem('modalShown', 'true');
        } else {
            closeSuccessModal();
        }
        {% endif %}
    });
</script>


</body>
</html>